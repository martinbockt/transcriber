{
  "productName": "Voice Assistant",
  "version": "0.1.0",
  "identifier": "com.voiceassistant.app",
  "build": {
    "beforeDevCommand": "pnpm dev",
    "devUrl": "http://localhost:3000",
    "beforeBuildCommand": "pnpm build",
    "frontendDist": "../out"
  },
  "app": {
    "windows": [
      {
        "title": "Voice Assistant - Second Brain",
        "width": 1400,
        "height": 900,
        "minWidth": 1000,
        "minHeight": 600,
        "resizable": true,
        "fullscreen": false
      }
    ],
    "security": {
      "csp": {
        // Fallback for all resource types - allows local app resources and Tauri protocol
        "default-src": ["'self'", "tauri://localhost", "asset:", "http://tauri.localhost"],

        // JavaScript execution - 'wasm-unsafe-eval' needed for Next.js WebAssembly and code splitting
        "script-src": ["'self'", "'wasm-unsafe-eval'"],

        // CSS styles - 'unsafe-inline' required for Next.js dynamic inline styles and CSS-in-JS
        "style-src": ["'self'", "'unsafe-inline'"],

        // Network requests - allows OpenAI API for transcription and AI processing
        "connect-src": ["'self'", "https://api.openai.com", "tauri://localhost"],

        // Images - supports data URIs and blob URLs for dynamic image content
        "img-src": ["'self'", "data:", "blob:"],

        // Audio/video - blob: and data: needed for audio recording playback from MediaRecorder
        "media-src": ["'self'", "blob:", "data:"],

        // Fonts - only load fonts bundled with the application
        "font-src": ["'self'"],

        // Plugins - block all plugins (Flash, Java, etc.) for security
        "object-src": ["'none'"],

        // Document base URL - restrict to same origin only
        "base-uri": ["'self'"],

        // Form submission - restrict form actions to same origin
        "form-action": ["'self'"],

        // Iframe embedding - prevent app from being embedded in other pages (clickjacking protection)
        "frame-ancestors": ["'none'"]
      }
    }
  },
  "bundle": {
    "active": false,
    "targets": "all",
    "publisher": "Voice Assistant",
    "copyright": "Â© 2024 Voice Assistant",
    "shortDescription": "AI-powered voice recording and transcription",
    "longDescription": "An intelligent desktop application that records your voice, transcribes it, and uses AI to classify and organize your thoughts into actionable items, research answers, drafts, and notes."
  }
}
